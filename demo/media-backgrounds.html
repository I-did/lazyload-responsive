<!DOCTYPE html>
<html lang="ru-RU">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<!-- <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/styles/atom-one-dark.min.css"> -->
	<!-- <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/highlight.min.js"></script> -->
	<title>Usage with backgrounds and media queries</title>
	<style>
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}
		.car-img {
			width: 100%;
			max-width: 360px;
			height: 300px;
			background-size: 175px;
			background-position: center;
			background-repeat: no-repeat;
			border: 1px solid grey;
		}
	</style>
</head>
<body>
	<button type="button" class="pre">btn-1</button>
	<button type="button" class="pre">btn-2</button>
	<!-- <button type="button" class="pre">btn-3</button> -->
	<!-- <button type="button" class="pre">btn-4</button> -->
	<button type="button" class="pre">btn-5</button>
	<a href="#" class="foo">link-1</a>
	<a href="#" class="foo">link-2</a>
	<a href="#" class="foo">link-3</a>
	<a href="#" class="foo">link-4</a>
	<a href="#" class="foo">link-5</a>
	<script>hljs.initHighlightingOnLoad();</script>
	<div class="car-img lazy"
				data-src="url(../src/img/smart.png)"
				data-media="(max-width: 1200px) {url(../src/img/mercedes.png)};
										(max-width: 768px) {url(../src/img/bmw.png)};
										(max-width: 576px) {url(../src/img/bmw-moto.png)}"></div>
<pre><code class="plaintext">HTML:</code></pre>
<pre><code class="html">&lt;div class="car-img lazy"
     data-src="url(../src/img/smart.png)"
     data-media="(max-width: 1200px) {url(../src/img/mercedes.png)};
                 (max-width: 768px) {url(../src/img/bmw.png)};
                 (max-width: 576px) {url(../src/img/bmw-moto.png)}"&gt;
&lt;/div&gt;
 </code></pre>
<pre><code class="plaintext">CSS:</code></pre>
<pre><code class="css">.car-img {
  background-size: 175px;
  background-position: center;
  background-repeat: no-repeat;
}</code></pre>
	<script src="../src/js/lazyload.es5.js"></script>
	<!-- <script src="../src/js/lazyload.js"></script> -->
	<script>
		window.addEventListener('DOMContentLoaded', function(){
			new lazyload();
			let btns = document.querySelectorAll('.pre'),
				links = document.querySelectorAll('.foo');

				console.log((function() {
					let a = [],
						b = [];
					for (let i = 0; i < btns.length || i < links.length; i++) {
						btns[i] && a.push(btns[i]);
						links[i] && b.push(links[i]);
					}
					return a.concat(b);
				})());
		});
	</script>
</body>
</html>